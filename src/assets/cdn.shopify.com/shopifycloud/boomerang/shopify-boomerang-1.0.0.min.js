/*
 * Copyright (c) 2011, Yahoo! Inc.  All rights reserved.
 * Copyright (c) 2011-2012, Log-Normal, Inc.  All rights reserved.
 * Copyright (c) 2012-2017, SOASTA, Inc. All rights reserved.
 * Copyright (c) 2017, Akamai Technologies, Inc. All rights reserved.
 * Copyrights licensed under the BSD License. See the accompanying LICENSE.txt file for terms.
 */
/* Boomerang Version: 1.0.0  */

!function(n){var r={};function i(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};n[e].call(t.exports,t,t.exports,i);t.l=!0;return t.exports}i.m=n;i.c=r;i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})};i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});Object.defineProperty(e,"__esModule",{value:!0})};i.t=function(t,e){1&e&&(t=i(t));if(8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);i.r(n);Object.defineProperty(n,"default",{enumerable:!0,value:t});if(2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n};i.n=function(e){var t=e&&e.__esModule?function n(){return e["default"]}:function r(){return e};i.d(t,"a",t);return t};i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};i.p="";i(i.s=0)}([function(e,t,n){n(1);n(2);n(3);n(4);n(5);n(7);n(8);n(9);n(10);n(11);n(12);e.exports=n(13)},function(e,t){BOOMR_start=(new Date).getTime();function l(e){if(window){if(!e){if(window.parent===window||!document.getElementById("boomr-if-as"))return;if(window.BOOMR&&BOOMR.boomerang_frame&&BOOMR.window)try{BOOMR.boomerang_frame.document.domain!==BOOMR.window.document.domain&&(BOOMR.boomerang_frame.document.domain=BOOMR.window.document.domain)}catch(t){BOOMR.isCrossOriginError(t)||BOOMR.addError(t,"BOOMR_check_doc_domain.domainFix")}e=document.domain}if(e&&-1!==e.indexOf(".")&&window.parent){try{window.parent.document;return}catch(t){try{document.domain=e}catch(n){return}}try{window.parent.document;return}catch(t){e=e.replace(/^[\w\-]+\./,"")}l(e)}}}l();!function(d){var u,t,a,o,s,e,c,n=d;d.parent!==d&&document.getElementById("boomr-if-as")&&"script"===document.getElementById("boomr-if-as").nodeName.toLowerCase()&&(d=d.parent);a=d.document;d.BOOMR||(d.BOOMR={});BOOMR=d.BOOMR;if(!BOOMR.version){BOOMR.version="2.0.0";BOOMR.window=d;BOOMR.boomerang_frame=n;BOOMR.plugins||(BOOMR.plugins={});!function(){try{new d.CustomEvent("CustomEvent")!==undefined&&(o=function(e,t){return new d.CustomEvent(e,t)})}catch(e){}try{!o&&a.createEvent&&a.createEvent("CustomEvent")&&(o=function(e,t){var n=a.createEvent("CustomEvent");t=t||{cancelable:!1,bubbles:!1};n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail);return n})}catch(e){}o=(o=!o&&a.createEventObject?function(e,t){var n=a.createEventObject();n.type=n.propertyName=e;n.detail=t.detail;return n}:o)||function(){return undefined}}();s=function(e,t,n){var r=o(e,{detail:t});r&&(n?BOOMR.setImmediate(i):i());function i(){try{a.dispatchEvent?a.dispatchEvent(r):a.fireEvent&&a.fireEvent("onpropertychange",r)}catch(e){}}};if("undefined"!=typeof a.hidden){e="visibilityState";c="visibilitychange"}else if("undefined"!=typeof a.mozHidden){e="mozVisibilityState";c="mozvisibilitychange"}else if("undefined"!=typeof a.msHidden){e="msVisibilityState";c="msvisibilitychange"}else if("undefined"!=typeof a.webkitHidden){e="webkitVisibilityState";c="webkitvisibilitychange"}u={beacon_url:"",beacon_url_force_https:!0,beacon_urls_allowed:[],beacon_type:"AUTO",beacon_auth_key:"Authorization",beacon_auth_token:undefined,beacon_with_credentials:!1,beacon_disable_sendbeacon:!1,site_domain:d.location.hostname.replace(/.*?([^.]+\.[^.]+)\.?$/,"$1").toLowerCase(),user_ip:"",autorun:!0,hasSentPageLoadBeacon:!1,r:undefined,same_site_cookie:"Lax",secure_cookie:!1,forced_same_site_cookie_none:!1,events:{page_ready:[],page_unload:[],before_unload:[],dom_loaded:[],visibility_changed:[],prerender_to_visible:[],before_beacon:[],beacon:[],page_load_beacon:[],xhr_load:[],click:[],form_submit:[],config:[],xhr_init:[],spa_init:[],spa_navigation:[],spa_cancel:[],xhr_send:[],xhr_error:[],error:[],netinfo:[],rage_click:[]},public_events:{before_beacon:"onBeforeBoomerangBeacon",beacon:"onBoomerangBeacon",onboomerangloaded:"onBoomerangLoaded"},translate_events:{onbeacon:"beacon",onconfig:"config",onerror:"error",onxhrerror:"xhr_error"},unloadEventsCount:0,unloadEventCalled:0,listenerCallbacks:{},vars:{},singleBeaconVars:{},varPriority:{"-1":{},1:{}},errors:{},disabled_plugins:{},localStorageSupported:!1,LOCAL_STORAGE_PREFIX:"_boomr_",nativeOverwrites:[],xb_handler:function(n){return function(e){var t;(e=e||d.event).target?t=e.target:e.srcElement&&(t=e.srcElement);(t=3===t.nodeType?t.parentNode:t)&&t.nodeName&&"OBJECT"===t.nodeName.toUpperCase()&&"application/x-shockwave-flash"===t.type||u.fireEvent(n,t)}},clearEvents:function(){for(var e in this.events)this.events.hasOwnProperty(e)&&(this.events[e]=[])},clearListeners:function(){for(var e in u.listenerCallbacks)if(u.listenerCallbacks.hasOwnProperty(e))for(;u.listenerCallbacks[e].length;)BOOMR.utils.removeListener(u.listenerCallbacks[e][0].el,e,u.listenerCallbacks[e][0].fn);u.listenerCallbacks={}},fireEvent:function(e,t){var n,r,i,o;e=e.toLowerCase();this.translate_events[e]&&(e=this.translate_events[e]);if(this.events.hasOwnProperty(e)){this.public_events.hasOwnProperty(e)&&s(this.public_events[e],t);i=this.events[e];"before_beacon"!==e&&"beacon"!==e&&BOOMR.real_sendBeacon();o=i.length;for(n=0;n<o;n++)try{(r=i[n]).fn.call(r.scope,t,r.cb_data)}catch(a){BOOMR.addError(a,"fireEvent."+e+"<"+n+">")}for(n=0;n<o;n++)if(i[n].once){i.splice(n,1);o--;n--}}},spaNavigation:function(){u.onloadfired=!0},beaconUrlAllowed:function(e){if(!u.beacon_urls_allowed||0===u.beacon_urls_allowed.length)return!0;for(var t=0;t<u.beacon_urls_allowed.length;t++)if(new RegExp(u.beacon_urls_allowed[t]).exec(e))return!0;return!1},checkLocalStorageSupport:function(){var e=u.LOCAL_STORAGE_PREFIX+"clss";u.localStorageSupported=!1;try{if(!d.JSON||!d.localStorage)return;d.localStorage.setItem(e,e);u.localStorageSupported=d.localStorage.getItem(e)===e;d.localStorage.removeItem(e)}catch(t){u.localStorageSupported=!1}},onFrameUnloaded:function(){var e,t;BOOMR.isUnloaded=!0;for(e=0;e<u.nativeOverwrites.length;e++)(t=u.nativeOverwrites[e]).obj[t.functionName]=t.origFn;u.nativeOverwrites=[]}};t={t_start:BOOMR_start,t_end:undefined,url:"",config_url:null,loadedLate:!1,beaconsSent:0,isUnloaded:!1,beaconInQueue:!1,cookies:{},testedCookies:!1,constants:{BEACON_TYPE_SPAS:["spa","spa_hard"],MAX_GET_LENGTH:2e3},session:{domain:u.site_domain,ID:undefined,start:undefined,length:0,enabled:!0},utils:{hasPostMessageSupport:function(){return!(!d.postMessage||"function"!=typeof d.postMessage&&"object"!=typeof d.postMessage)},objectToString:function(e,t,n){var r,i=[];if(!e||"object"!=typeof e)return e;t===undefined&&(t="\n\t");n=n||0;if(BOOMR.utils.isArray(e)){for(r=0;r<e.length;r++)0<n&&null!==e[r]&&"object"==typeof e[r]?i.push(this.objectToString(e[r],t+("\n\t"===t?"\t":""),n-1)):"&"===t?i.push(encodeURIComponent(e[r])):i.push(e[r]);t=","}else for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&(0<n&&null!==e[r]&&"object"==typeof e[r]?i.push(encodeURIComponent(r)+"="+this.objectToString(e[r],t+("\n\t"===t?"\t":""),n-1)):"&"===t?i.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r])):i.push(r+"="+e[r]));return i.join(t)},getCookie:function(e){var t;if(!e)return null;if("undefined"!=typeof BOOMR.cookies[e])return!1===BOOMR.cookies[e]?undefined:BOOMR.cookies[e];if(void 0===(t=this.getRawCookie(e))){BOOMR.cookies[e]=!1;return undefined}BOOMR.cookies[e]=t;return BOOMR.cookies[e]},getRawCookie:function(e){if(!e)return null;e=" "+e+"=";var t,n=" "+a.cookie+";";if(0<=(t=n.indexOf(e))){t+=e.length;return n.substring(t,n.indexOf(";",t)).replace(/^"/,"").replace(/"$/,"")}},setCookie:function(e,t,n){BOOMR.addVar("nocookie",1);return!1},getSubCookies:function(e){var t,n,r,i,o=!1,a={};if(!e)return null;if("string"!=typeof e)return null;for(n=0,r=(t=e.split("&")).length;n<r;n++)if((i=t[n].split("="))[0]){i.push("");a[decodeURIComponent(i[0])]=decodeURIComponent(i[1]);o=!0}return o?a:null},removeCookie:function(e){return this.setCookie(e,{},-86400)},getSameSiteAttributeParts:function(){var e=u.same_site_cookie.toUpperCase();return"LAX"===(e=u.forced_same_site_cookie_none?"NONE":e)?["SameSite=Lax"]:"NONE"===e?"https:"===location.protocol&&this.isCurrentUASameSiteNoneCompatible()?["SameSite=None","Secure"]:[]:"STRICT"===e?["SameSite=Strict"]:["SameSite=Lax"]},getLocalStorage:function(e){var t,n;if(!e||!u.localStorageSupported)return null;try{if(null===(t=d.localStorage.getItem(u.LOCAL_STORAGE_PREFIX+e)))return undefined;n=d.JSON.parse(t)}catch(r){BOOMR.warn(r);return null}if(!n||"object"!=typeof n.items){this.removeLocalStorage(e);return null}if("number"==typeof n.expires&&BOOMR.now()>=n.expires){this.removeLocalStorage(e);return undefined}return n.items},setLocalStorage:function(e,t,n){var r,i;if(!e||!u.localStorageSupported||"object"!=typeof t)return!1;t={items:t};"number"==typeof n&&(t.expires=BOOMR.now()+1e3*n);if((r=d.JSON.stringify(t)).length<5e4){try{d.localStorage.setItem(u.LOCAL_STORAGE_PREFIX+e,r);if(r===(i=d.localStorage.getItem(u.LOCAL_STORAGE_PREFIX+e)))return!0}catch(o){}BOOMR.warn("Saved storage value doesn't match what we tried to set:\n"+r+"\n"+i)}else BOOMR.warn("Storage items too large: "+r.length+" "+r);return!1},removeLocalStorage:function(e){if(!e||!u.localStorageSupported)return!1;try{d.localStorage.removeItem(u.LOCAL_STORAGE_PREFIX+e);return!0}catch(t){}return!1},cleanupURL:function(e,t){if(!e||BOOMR.utils.isArray(e))return"";u.strip_query_string&&(e=e.replace(/\?.*/,"?qs-redacted"));if(void 0!==t&&e&&e.length>t){var n=e.indexOf("?");e=-1!==n&&n<t?e.substr(0,n)+"?...":e.substr(0,t-3)+"..."}return e},hashQueryString:function(e,t){if(!e)return e;if(!e.match){BOOMR.addError("TypeError: Not a string","hashQueryString",typeof e);return""}if((e=e.match(/^\/\//)?location.protocol+e:e).match(/^(https?|file):/))return(e=t?e.replace(/#.*/,""):e).replace(/\?([^#]*)/,function(e,t){return"?"+(10<t.length?BOOMR.utils.hashString(t):t)});BOOMR.error("Passed in URL is invalid: "+e);return""},pluginConfig:function(e,t,n,r){var i,o=0;if(!t||!t[n])return!1;for(i=0;i<r.length;i++)if(t[n][r[i]]!==undefined){e[r[i]]=t[n][r[i]];o++}return 0<o},arrayFilter:function(e,t){var n=[];if(!(this.isArray(e)||e&&"number"==typeof e.length)||"function"!=typeof t)return n;if("function"==typeof e.filter)n=e.filter(t);else for(var r,i=-1,o=e.length;++i<o;)t(r=e[i],i,e)&&(n[n.length]=r);return n},arrayFind:function(e,t){if(!(this.isArray(e)||e&&"number"==typeof e.length)||"function"!=typeof t)return undefined;if("function"==typeof e.find)return e.find(t);for(var n,r=-1,i=e.length;++r<i;)if(t(n=e[r],r,e))return n;return undefined},isMutationObserverSupported:function(){return!(d&&d.navigator&&d.navigator.userAgent&&d.navigator.userAgent.match(/Trident.*rv[ :]*11\./))&&d&&d.MutationObserver&&"function"==typeof d.MutationObserver},addObserver:function(e,t,n,r,i,o){var a,s,u={observer:null,timer:null};if(!this.isMutationObserverSupported()||!r||!e)return null;function c(e){var t=!1;if(u.timer){clearTimeout(u.timer);u.timer=null}r&&((t=r.call(o,e,i))||(r=null));if(!t&&u.observer){u.observer.disconnect();u.observer=null}"number"==typeof t&&0<t&&(u.timer=setTimeout(c,t))}a=d.MutationObserver;d.Zone&&"function"==typeof d.Zone.__symbol__&&(s=d.Zone.__symbol__("MutationObserver"))&&"string"==typeof s&&d.hasOwnProperty(s)&&"function"==typeof d[s]&&(a=d[s]);u.observer=new a(c);n&&(u.timer=setTimeout(c,u.timeout));u.observer.observe(e,t);return u},addListener:function(e,t,n,r){var i=!1;if(e.addEventListener){"object"==typeof r?i=r:"boolean"==typeof r&&r&&BOOMR.browser.supportsPassive()&&(i={capture:!1,passive:!0});e.addEventListener(t,n,i)}else e.attachEvent&&e.attachEvent("on"+t,n);u.listenerCallbacks[t]=u.listenerCallbacks[t]||[];u.listenerCallbacks[t].push({el:e,fn:n})},removeListener:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n);if(u.listenerCallbacks.hasOwnProperty(t))for(var r=0;r<u.listenerCallbacks[t].length;r++)if(n===u.listenerCallbacks[t][r].fn&&e===u.listenerCallbacks[t][r].el){u.listenerCallbacks[t].splice(r,1);return}},isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},inArray:function(e,t){var n;if(void 0===e||void 0===t||!t.length)return!1;for(n=0;n<t.length;n++)if(t[n]===e)return!0;return!1},getQueryParamValue:function(e,t){var n,r,i,o;if(!e)return null;"string"==typeof t?(n=BOOMR.window.document.createElement("a")).href=t:n="object"==typeof t&&"string"==typeof t.search?t:BOOMR.window.location;r=n.search.slice(1).split(/&/);for(i=0;i<r.length;i++)if(r[i]&&(o=r[i].split("=")).length&&o[0]===e)try{return 1<o.length?decodeURIComponent(o.splice(1).join("=").replace(/\+/g," ")):""}catch(a){if(!a||"string"!=typeof a.name||-1===a.name.indexOf("URIError"))throw a}return null},generateUUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},generateId:function(e){return"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx".substr(0,e||40).replace(/x/g,function(e){return"0"===(e=(Math.random()||.01).toString(36))?"0":e.substr(2,1)})},serializeForUrl:function(e){return BOOMR.utils.Compression&&BOOMR.utils.Compression.jsUrl?BOOMR.utils.Compression.jsUrl(e):window.JSON?JSON.stringify(e):""},getMyURL:function(){var e,t=document.currentScript||document.getElementById("boomr-if-as")||document.getElementById("boomr-scr-as");if(t)return t.src;for(var n=document.getElementsByTagName("script"),r=n.length;r--;)if("interactive"===n[r].readyState)return n[r].src;try{throw new Error}catch(i){if("stack"in i&&(e=this.arrayFilter(i.stack.split(/\n/),function(e){return e.match(/https?:\/\//)}))&&e.length)return e[0].replace(/.*(https?:\/\/.+?)(:\d+)+\D*$/m,"$1")}return""},scroll:function(){var e=d.pageXOffset!==undefined,t="CSS1Compat"===(d.document.compatMode||""),n={x:0,y:0};if(e)if("function"==typeof d.pageXOffset){n.x=d.pageXOffset();n.y=d.pageYOffset()}else{n.x=d.pageXOffset;n.y=d.pageYOffset}else if(t){n.x=d.document.documentElement.scrollLeft;n.y=d.document.documentElement.scrollTop}else{n.x=d.document.body.scrollLeft;n.y=d.document.body.scrollTop}"number"==typeof n.sx&&(n.sx=Math.round(n.sx));"number"==typeof n.sy&&(n.sy=Math.round(n.sy));return n},windowHeight:function(){return d.innerHeight||d.document.documentElement.clientHeight||d.document.body.clientHeight},windowWidth:function(){return d.innerWidth||d.document.documentElement.clientWidth||d.document.body.clientWidth},isNative:function(e){return!!e&&e.toString&&!e.hasOwnProperty("toString")&&/\[native code\]/.test(String(e))},overwriteNative:function(e,t,n){if(e&&n){BOOMR.boomerang_frame!==BOOMR.window&&u.nativeOverwrites.push({obj:e,functionName:t,origFn:e[t]});e[t]=n}},isInteger:function(e){return(Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e})(e)},isObjectEmpty:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},hashString:function(e){e=encodeURIComponent(e);for(var t=2166136261,n=0;n<e.length;n++){t^=e.charCodeAt(n);t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24)}var r=(t>>>0).toString()+e.length;return parseInt(r).toString(36)},isCurrentUASameSiteNoneCompatible:function(){return!(d&&d.navigator&&d.navigator.userAgent&&"string"==typeof d.navigator.userAgent)||this.isUASameSiteNoneCompatible(d.navigator.userAgent)},isUASameSiteNoneCompatible:function(e){var t=e.match(/(UCBrowser)\/(\d+\.\d+)\.(\d+)/);if(t){var n=parseFloat(t[2]),r=t[3];return 12.13===n?!(r<=2):!(n<12.13)}if(t=e.match(/(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)/)){n=t[2];return 51<=n&&n<=66?!1:!0}return(t=e.match(/(Macintosh;.*Mac OS X 10_14[_\d]*.*) AppleWebKit\//))?(!(t=e.match(/Version\/.* Safari\//))||null!==(t=e.match(/Chrom(?:e|ium)/)))&&!(t=e.match(/^Mozilla\/\d+(?:\.\d+)* \(Macintosh;.*Mac OS X \d+(?:_\d+)*\) AppleWebKit\/\d+(?:\.\d+)* \(KHTML, like Gecko\)$/)):!(t=e.match(/(iP.+; CPU .*OS 12(?:_\d+)*.*)/))}},browser:{results:{},supportsPassive:function(){if("undefined"==typeof BOOMR.browser.results.supportsPassive){BOOMR.browser.results.supportsPassive=!1;if(!Object.defineProperty)return!1;try{var e=Object.defineProperty({},"passive",{get:function(){BOOMR.browser.results.supportsPassive=!0}});window.addEventListener("test",null,e)}catch(t){}}return BOOMR.browser.results.supportsPassive}},init:function(e){var t,n,r=["autorun","beacon_auth_key","beacon_auth_token","beacon_with_credentials","beacon_disable_sendbeacon","beacon_url","beacon_url_force_https","beacon_type","site_domain","strip_query_string","user_ip","same_site_cookie","secure_cookie"];BOOMR.addVar("boomerang_init",BOOMR.now());l();(e=e||{}).log!==undefined&&(this.log=e.log);this.log||(this.log=function(){});if(e.primary&&u.handlers_attached)return this;if("undefined"!=typeof e.site_domain){/:/.test(e.site_domain)&&(e.site_domain=d.location.hostname.toLowerCase());this.session.domain=e.site_domain}BOOMR.session.enabled&&"undefined"==typeof BOOMR.session.ID&&(BOOMR.session.ID=BOOMR.utils.generateUUID());BOOMR.setReferrer(BOOMR.window.document.referrer);"undefined"!=typeof e.autorun&&(u.autorun=e.autorun);for(n in this.plugins)if(this.plugins.hasOwnProperty(n))if(e[n]&&e[n].hasOwnProperty("enabled")&&!1===e[n].enabled){u.disabled_plugins[n]=1;"function"==typeof this.plugins[n].disable&&this.plugins[n].disable()}else{if(u.disabled_plugins[n]){if(!e[n]||!e[n].hasOwnProperty("enabled")||!0!==e[n].enabled)continue;"function"==typeof this.plugins[n].enable&&this.plugins[n].enable();delete u.disabled_plugins[n]}if("function"==typeof this.plugins[n].init)try{this.plugins[n].init(e)}catch(i){BOOMR.addError(i,n+".init")}}for(t=0;t<r.length;t++)e[r[t]]!==undefined&&(u[r[t]]=e[r[t]]);if(!u.handlers_attached&&!e.wait||u.handlers_attached&&u.waiting_for_config){if(!u.onloadfired&&(u.autorun===undefined||!1!==u.autorun)){BOOMR.hasBrowserOnloadFired()&&(BOOMR.loadedLate=!0);BOOMR.attach_page_ready(BOOMR.page_ready_autorun)}u.waiting_for_config=!1}if(u.handlers_attached)return this;e.wait&&(u.waiting_for_config=!0);BOOMR.attach_page_ready(function(){BOOMR.t_onload||(BOOMR.t_onload=BOOMR.now())});BOOMR.utils.addListener(d,"DOMContentLoaded",function(){u.fireEvent("dom_loaded")});BOOMR.fireEvent("config",e);BOOMR.subscribe("config",function(e){e.beacon_url&&(u.beacon_url=e.beacon_url)});BOOMR.subscribe("spa_navigation",u.spaNavigation,null,u);!function(){var e,t;if(c!==undefined){BOOMR.utils.addListener(a,c,function(){u.fireEvent("visibility_changed")});u.lastVisibilityState=BOOMR.visibilityState();BOOMR.subscribe("visibility_changed",function(){var e=BOOMR.visibilityState();BOOMR.lastVisibilityEvent[e]=BOOMR.now();"prerender"===u.lastVisibilityState&&"prerender"!==e&&u.fireEvent("prerender_to_visible");u.lastVisibilityState=e})}BOOMR.utils.addListener(a,"mouseup",u.xb_handler("click"));e=a.getElementsByTagName("form");for(t=0;t<e.length;t++)BOOMR.utils.addListener(e[t],"submit",u.xb_handler("form_submit"));d.onpagehide||null===d.onpagehide||BOOMR.utils.addListener(d,"unload",function(){BOOMR.window=d=null});BOOMR.boomerang_frame!==BOOMR.window&&BOOMR.utils.addListener(BOOMR.boomerang_frame,"unload",u.onFrameUnloaded)}();u.handlers_attached=!0;return this},attach_page_ready:function(e){BOOMR.hasBrowserOnloadFired()?this.setImmediate(e,null,null,BOOMR):d.onpagehide||null===d.onpagehide?BOOMR.utils.addListener(d,"pageshow",e):BOOMR.utils.addListener(d,"load",e)},page_ready_autorun:function(e){u.autorun&&BOOMR.page_ready(e,!0)},page_ready:function(e,t){var n;if(!t&&"number"==typeof e){n=e;e=null}e=(e=e||d.event)||{name:"load"};if(t){if("number"==typeof d.BOOMR_page_ready){e.timing=e.timing||{};e.timing.loadEventEnd=d.BOOMR_page_ready;BOOMR.addVar("pr",1,!0)}}else{e.timing=e.timing||{};n?e.timing.loadEventEnd=n:"number"==typeof d.BOOMR_page_ready?e.timing.loadEventEnd=d.BOOMR_page_ready:e.timing.loadEventEnd=BOOMR.now();BOOMR.addVar("pr",1,!0)}if(u.onloadfired)return this;u.fireEvent("page_ready",e);u.onloadfired=!0;return this},hasBrowserOnloadFired:function(){var e=BOOMR.getPerformance();return a.readyState&&"complete"===a.readyState||e&&e.timing&&0<e.timing.loadEventStart||0<d.BOOMR_onload},onloadFired:function(){return u.onloadfired},setImmediate:function(e,t,n,r){var i=function(){e.call(r||null,t,n||{},void 0);i=null};d.requestIdleCallback?d.requestIdleCallback(i,{timeout:1e3}):d.setImmediate?d.setImmediate(i):setTimeout(i,10)},now:Date.now||function(){return(new Date).getTime()},getPerformance:function(){try{if(BOOMR.window)return"performance"in BOOMR.window&&BOOMR.window.performance?BOOMR.window.performance:BOOMR.window.msPerformance||BOOMR.window.webkitPerformance||BOOMR.window.mozPerformance}catch(e){}},forceSameSiteCookieNone:function(){u.forced_same_site_cookie_none=!0},hrNow:function(){var e,t=BOOMR.getPerformance();if(t&&t.now)e=t.now();else{t=BOOMR.plugins.RT&&BOOMR.plugins.RT.navigationStart&&BOOMR.plugins.RT.navigationStart()||BOOMR.t_lstart||BOOMR.t_start;e=BOOMR.now()-t}return e},visibilityState:e===undefined?function(){return"visible"}:function(){return a[e]},lastVisibilityEvent:{},registerEvent:function(e){if(u.events.hasOwnProperty(e))return this;u.events[e]=[];return this},disable:function(){u.clearEvents();u.clearListeners()},fireEvent:function(e,t){return u.fireEvent(e,t)},subscribe:function(t,n,r,i,e){var o,a,s;t=t.toLowerCase();u.translate_events[t]&&(t=u.translate_events[t]);u.events.hasOwnProperty(t)||(u.events[t]=[]);s=u.events[t];for(o=0;o<s.length;o++)if((a=s[o])&&a.fn===n&&a.cb_data===r&&a.scope===i)return this;s.push({fn:n,cb_data:r||{},scope:i||null,once:e||!1});"page_ready"===t&&u.onloadfired&&u.autorun&&this.setImmediate(n,null,r,i);if("page_unload"===t||"before_unload"===t){u.unloadEventsCount++;!function(){s.length;var e=function(e){n&&n.call(i,e||d.event,r);++u.unloadEventCalled===u.unloadEventsCount&&BOOMR.real_sendBeacon()};"page_unload"===t&&(d.onpagehide||null===d.onpagehide?BOOMR.utils.addListener(d,"pagehide",e):BOOMR.utils.addListener(d,"unload",e));BOOMR.utils.addListener(d,"beforeunload",e)}()}return this},addError:function BOOMR_addError(e,t,n){var r=BOOMR.plugins.Errors;BOOMR.error("Boomerang caught error: "+e+", src: "+t+", extra: "+n);if(r&&r.is_supported())if("string"==typeof e)r.send({message:e,extra:n,functionName:t,noStack:!0},r.VIA_APP,r.SOURCE_BOOMERANG);else{"string"==typeof t&&(e.functionName=t);void 0!==n&&(e.extra=n);r.send(e,r.VIA_APP,r.SOURCE_BOOMERANG)}else{"string"!=typeof e&&(e=r=(r=String(e)).match(/^\[object/)?e.name+": "+(e.description||e.message).replace(/\r\n$/,""):r);t!==undefined&&(e="["+t+":"+BOOMR.now()+"] "+e);n&&(e+=":: "+n);u.errors[e]?u.errors[e]++:u.errors[e]=1}},isCrossOriginError:function(e){return"SecurityError"===e.name||"TypeError"===e.name&&"Permission denied"===e.message||"Error"===e.name&&e.message&&e.message.match(/^(Permission|Access is) denied/)||-2146828218===e.number},addVar:function(e,t,n){if("string"==typeof e){u.vars[e]=t;n&&(u.singleBeaconVars[e]=1)}else if("object"==typeof e){var r,i=e;for(r in i)if(i.hasOwnProperty(r)){u.vars[r]=i[r];n&&(u.singleBeaconVars[r]=1)}}return this},appendVar:function(e,t){var n=BOOMR.getVar(e)||"";n&&(n+=",");BOOMR.addVar(e,n+t);return this},removeVar:function(e){var t,n;if(!arguments.length)return this;n=1===arguments.length&&BOOMR.utils.isArray(e)?e:arguments;for(t=0;t<n.length;t++)u.vars.hasOwnProperty(n[t])&&delete u.vars[n[t]];return this},hasVar:function(e){return u.vars.hasOwnProperty(e)},getVar:function(e){return u.vars[e]},setVarPriority:function(e,t){if("number"!=typeof t||1!==Math.abs(t))return this;u.varPriority[t][e]=1;return this},setReferrer:function(e){u.r=e},requestStart:function(t){var n=BOOMR.now();BOOMR.plugins.RT.startTimer("xhr_"+t,n);return{loaded:function(e){BOOMR.responseEnd(t,n,e)}}},readyToSend:function(){for(var e in this.plugins)if(this.plugins.hasOwnProperty(e)&&!u.disabled_plugins[e]&&"function"==typeof this.plugins[e].readyToSend&&!1===this.plugins[e].readyToSend())return!1;return!0},responseEnd:function(e,t,n,r){t="number"==typeof t?t:BOOMR.now();r="number"==typeof r?r:BOOMR.now();if(BOOMR.readyToSend())if(BOOMR.hasSentPageLoadBeacon()||BOOMR.utils.inArray(e.initiator,BOOMR.constants.BEACON_TYPE_SPAS))if(u.beaconInQueue)BOOMR.subscribe("beacon",function(){BOOMR.responseEnd(e,t,n,r)},null,BOOMR,!0);else{u.beaconInQueue=!0;if("object"==typeof e)e.url&&u.fireEvent("xhr_load",e);else{BOOMR.real_sendBeacon();BOOMR.plugins.RT.startTimer("xhr_"+e,t);u.fireEvent("xhr_load",{name:"xhr_"+e,data:n,timing:{loadEventEnd:r}})}}else BOOMR.subscribe("page_load_beacon",function(){BOOMR.responseEnd(e,t,n,r)},null,BOOMR,!0);else setTimeout(function(){BOOMR.responseEnd(e,t,n,r)},1e3)},uninstrumentXHR:function(){},instrumentXHR:function(){},uninstrumentFetch:function(){},instrumentFetch:function(){},sendBeacon:function(e){e&&(u.beacon_url_override=e);if(!u.beaconQueued){u.beaconQueued=!0;BOOMR.setImmediate(BOOMR.real_sendBeacon,null,null,BOOMR)}return!0},sendBeaconWhenReady:function(e,t,n){if(u.beaconInQueue)BOOMR.subscribe("beacon",function(){BOOMR.sendBeaconWhenReady(e,t,n)},null,BOOMR,!0);else{u.beaconInQueue=!0;for(var r in e)e.hasOwnProperty(r)&&BOOMR.addVar(r,e[r],!0);"function"==typeof t&&void 0!==n&&t.apply(n);BOOMR.sendBeacon()}},real_sendBeacon:function(){var e,t=[],n={};if(!u.beaconQueued)return!1;u.beaconQueued=!1;for(e in this.plugins)if(this.plugins.hasOwnProperty(e)&&!u.disabled_plugins[e]&&!this.plugins[e].is_complete(u.vars))return!1;if(!(window&&window.Image&&window.navigator&&BOOMR.window))return!1;var r,i=BOOMR.utils.inArray(u.vars.http_initiator,BOOMR.constants.BEACON_TYPE_SPAS),o="undefined"==typeof u.vars.http_initiator||i;u.vars.pgu||(u.vars.pgu=i?a.URL:a.URL.replace(/#.*/,""));u.vars.pgu=BOOMR.utils.cleanupURL(u.vars.pgu);u.vars.url&&!i||(u.vars.url=u.vars.pgu);u.vars.pgu===u.vars.url&&delete u.vars.pgu;u.r?u.vars.referrer=BOOMR.utils.cleanupURL(u.r):delete u.vars.referrer;u.vars.boomerang_version=BOOMR.version;d!==window&&(u.vars["if"]="");for(e in u.errors)u.errors.hasOwnProperty(e)&&t.push(e+(1<u.errors[e]?" (*"+u.errors[e]+")":""));0<t.length&&(u.vars.boomerang_errors=t.join("\n"));u.errors={};u.fireEvent("before_beacon",u.vars);for(e in u.vars)u.vars.hasOwnProperty(e)&&(n[e]=u.vars[e]);BOOMR.removeVar(["qt","pgu"]);for(r in u.singleBeaconVars)u.singleBeaconVars.hasOwnProperty(r)&&BOOMR.removeVar(r);u.singleBeaconVars={};if(!u.hasSentPageLoadBeacon&&o){u.hasSentPageLoadBeacon=!0;BOOMR.setImmediate(function(){u.fireEvent("page_load_beacon",n)})}if(BOOMR.session.rate_limited)return!1;u.beaconInQueue=!1;BOOMR.sendBeaconData(n);return!0},sendBeaconData:function(e){var t,n,r,i=[],o=!0;u.beacon_url=u.beacon_url_override||u.beacon_url;if(!u.beacon_url)return!1;if(!u.beaconUrlAllowed(u.beacon_url))return!1;if(BOOMR.utils.isObjectEmpty(e))return!1;u.fireEvent("beacon",e);i=this.getVarsOfPriority(e,-1);a=this.getVarsOfPriority(e,1);t=i.concat(this.getVarsOfPriority(e,0),a).join("&");u.beacon_url_force_https&&u.beacon_url.match(/^\/\//)&&(u.beacon_url="https:"+u.beacon_url);e=u.beacon_url+(-1<u.beacon_url.indexOf("?")?"&":"?")+t;if("GET"===u.beacon_type){o=!0;e.length>BOOMR.constants.MAX_GET_LENGTH&&(window.console&&(console.warn||console.log)||function(){})("Boomerang: Warning: Beacon may not be sent via GET due to payload size > 2000 bytes")}else("POST"===u.beacon_type||e.length>BOOMR.constants.MAX_GET_LENGTH)&&(o=!1);if(d&&d.navigator&&"function"==typeof d.navigator.sendBeacon&&BOOMR.utils.isNative(d.navigator.sendBeacon)&&"function"==typeof d.Blob&&"GET"!==u.beacon_type&&"undefined"==typeof u.beacon_auth_token&&!u.beacon_disable_sendbeacon){var a=new d.Blob([t+"&sb=1"],{type:"application/x-www-form-urlencoded"});if(d.navigator.sendBeacon(u.beacon_url,a))return!0}if(o=!(BOOMR.orig_XMLHttpRequest||d&&d.XMLHttpRequest)?!0:o){try{n=new Image}catch(s){return!1}n.src=e}else{r=new(BOOMR.window.orig_XMLHttpRequest||BOOMR.orig_XMLHttpRequest||BOOMR.window.XMLHttpRequest);try{this.sendXhrPostBeacon(r,t)}catch(s){r=new BOOMR.boomerang_frame.XMLHttpRequest;this.sendXhrPostBeacon(r,t)}}return!0},hasSentPageLoadBeacon:function(){return u.hasSentPageLoadBeacon},sendXhrPostBeacon:function(e,t){e.open("POST",u.beacon_url);e.setRequestHeader("Content-type","application/x-www-form-urlencoded");if("undefined"!=typeof u.beacon_auth_token){"undefined"==typeof u.beacon_auth_key&&(u.beacon_auth_key="Authorization");e.setRequestHeader(u.beacon_auth_key,u.beacon_auth_token)}u.beacon_with_credentials&&(e.withCredentials=!0);e.send(t)},getVarsOfPriority:function(e,t){var n,r=[],i=0!==t?u.varPriority[t]:e;for(n in i)if(i.hasOwnProperty(n)&&e.hasOwnProperty(n)){r.push(this.getUriEncodedVar(n,"undefined"==typeof e[n]?"":e[n]));0!==t&&delete e[n]}return r},getUriEncodedVar:function(e,t){"object"==typeof(t=t===undefined||null===t?"":t)&&(t=BOOMR.utils.serializeForUrl(t));return encodeURIComponent(e)+"="+encodeURIComponent(t)},getResourceTiming:function(e,t,n){var r,i=BOOMR.getPerformance();try{if(i&&"function"==typeof i.getEntriesByName){if(!(r=i.getEntriesByName(e))||!r.length)return;if(!("function"!=typeof n||(r=BOOMR.utils.arrayFilter(r,n))&&r.length))return;1<r.length&&"function"==typeof t&&r.sort(t);return r[r.length-1]}}catch(o){BOOMR.warn("getResourceTiming:"+o)}}};if(BOOMR.url){n=BOOMR.window.document.createElement("a");n.href=BOOMR.url;t.url=n.href}else t.url=t.utils.getMyURL();delete BOOMR_start;if("number"==typeof BOOMR_lstart){t.t_lstart=BOOMR_lstart;delete BOOMR_lstart}else"number"==typeof BOOMR.window.BOOMR_lstart&&(t.t_lstart=BOOMR.window.BOOMR_lstart);"number"==typeof BOOMR.window.BOOMR_onload&&(t.t_onload=BOOMR.window.BOOMR_onload);!function(){var e;"object"==typeof console&&console.log!==undefined?t.log=function(e,t,n){}:t.log=function(){};e=function(n){return function(e,t){this.log(e,n,"boomerang"+(t?"."+t:""));return this}};t.debug=e("debug");t.info=e("info");t.warn=e("warn");t.error=e("error")}();try{var r=t.getPerformance();r&&"function"==typeof r.now&&/\[native code\]/.test(String(r.now))&&r.timing&&r.timing.navigationStart&&(t.now=function(){return Math.round(r.now()+r.timing.navigationStart)})}catch(i){}u.checkLocalStorageSupport();!function(){for(var e in t)t.hasOwnProperty(e)&&(BOOMR[e]=t[e]);BOOMR.xhr_excludes||(BOOMR.xhr_excludes={})}();s("onBoomerangLoaded",{BOOMR:BOOMR},!0)}}(window)},function(e,t){!function(){if("function"==typeof BOOMR.addVar){var n=BOOMR.getPerformance(),e=function(){if(n){var e=n.getEntriesByType("navigation");if(e&&e.length){serverTimings=e[0].serverTiming;var t={};serverTimings.forEach(function(e){t[e.name]=[e.duration,e.description]});serverTimings&&serverTimings.length&&BOOMR.addVar("server_timing",JSON.stringify(t),!0)}}};BOOMR.plugins.ServerTiming={init:function(){e()},is_complete:function(){return!0}}}}()},function(e,t){!function(){if("function"==typeof BOOMR.addVar){var r=BOOMR.getPerformance(),t={isComplete:!1,isCompleteCalled:!1,addVisuallyReadyToBeacon:function(){var e=r&&r.timing&&r.timing.navigationStart?r.timing.navigationStart:BOOMR.now(),t=0;if(BOOMR.plugins.PaintTiming&&BOOMR.plugins.PaintTiming.is_supported()&&r&&r.timeOrigin){var n=BOOMR.plugins.PaintTiming.getTimingFor("largest-contentful-paint");(n=(n=n||BOOMR.plugins.PaintTiming.getTimingFor("first-contentful-paint"))||BOOMR.plugins.PaintTiming.getTimingFor("first-paint"))&&(t=Math.max(t,Math.round(n+r.timeOrigin)))}r&&r.timing&&r.timing.msFirstPaint&&(t=Math.max(t,r.timing.msFirstPaint));r&&r.timing&&r.timing.domContentLoadedEventEnd&&(t=Math.max(t,r.timing.domContentLoadedEventEnd));visuallyReady=t;visuallyReady&&BOOMR.addVar("visually_ready",visuallyReady-e,!0)}};BOOMR.plugins.VisuallyReady={init:function(e){BOOMR.subscribe("page_ready",function(){t.addVisuallyReadyToBeacon();t.isComplete=!0;t.isCompleteCalled&&BOOMR.sendBeacon()})},is_complete:function(){t.isCompleteCalled=!0;return t.isComplete}}}}()},function(e,t){!function(){var r={isDone:!1,isCompleteCalled:!1,longTasks:[],longTasksTime:0,timeout:null,perfObserver:null,onPerformanceObserver:function(e){var t,n=e.getEntries();Array.prototype.push.apply(r.longTasks,n);for(t=0;t<n.length;t++)r.longTasksTime+=n[t].duration;clearTimeout(r.timeout);r.timeout=setTimeout(r.done,500)},done:function(){if(!r.isDone){r.isDone=!0;r.perfObserver.disconnect();r.isCompleteCalled&&BOOMR.sendBeacon()}}};if(window.PerformanceObserver&&window.PerformanceLongTaskTiming){r.perfObserver=new window.PerformanceObserver(r.onPerformanceObserver);try{r.perfObserver.observe({entryTypes:["longtask"]})}catch{r.isDone=!0}}else r.isDone=!0;BOOMR.plugins.LongTask={init:function(){r.timeout=setTimeout(r.done,500);return this},is_complete:function(){r.isCompleteCalled=!0;if(0<r.longTasks.length){BOOMR.addVar("total_duration_long_tasks",r.longTasksTime,!0);BOOMR.addVar("number_long_tasks",r.longTasks.length,!0)}return r.isDone}}}()},function(e,t,n){var r,i=n(6),o={CLS:"cumulative_layout_shift_score",FID:"first_input_delay"};r={retries:0,isCompleteCalled:!1,isDone:!1,addToBeacon:function(e){BOOMR.addVar(o[e.name],e.value,!0)}},BOOMR.plugins.CoreWebVitals={init:function(){i.getCLS(r.addToBeacon,!0);i.getFID(r.addToBeacon,!0);setTimeout(function(){r.isDone=!0;r.isCompleteCalled&&BOOMR.sendBeacon()},1e3);return this},is_complete:function(){r.isCompleteCalled=!0;return r.isDone}}},function(e,t,n){"use strict";n.r(t);n.d(t,"getCLS",function(){return o});n.d(t,"getFCP",function(){return _});n.d(t,"getFID",function(){return w});n.d(t,"getLCP",function(){return E});n.d(t,"getTTFB",function(){return T});var s,u,r,c,d=function(e,t){return{name:e,value:void 0===t?-1:t,delta:0,entries:[],id:"v1-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)}},l=function(e,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var n=new PerformanceObserver(function(e){return e.getEntries().map(t)});return n.observe({type:e,buffered:!0}),n}}catch(e){}},i=!1,f=function(t,n){i||"undefined"!=typeof InstallTrigger||(addEventListener("beforeunload",function(){}),i=!0);addEventListener("visibilitychange",function r(e){"hidden"===document.visibilityState&&(t(e),n&&removeEventListener("visibilitychange",r,!0))},!0)},p=function(t){addEventListener("pageshow",function(e){e.persisted&&t(e)},!0)},O=new("function"==typeof WeakSet?WeakSet:Set),m=function(e,t,n){var r;return function(){0<=t.value&&(n||O.has(t)||"hidden"===document.visibilityState)&&(t.delta=t.value-(r||0),!t.delta&&void 0!==r||(r=t.value,e(t)))}},o=function(e,t){var n,r=d("CLS",0),i=function(e){e.hadRecentInput||(r.value+=e.value,r.entries.push(e),n())},o=l("layout-shift",i);o&&(n=m(e,r,t),f(function(){o.takeRecords().map(i),n()}),p(function(){r=d("CLS",0),n=m(e,r,t)}))},a=-1,g=function(){return"hidden"===document.visibilityState?0:1/0},h=function(){f(function(e){e=e.timeStamp;a=e},!0)},v=function(){return a<0&&(a=g(),h(),p(function(){setTimeout(function(){a=g(),h()},0)})),{get timeStamp(){return a}}},_=function(t,n){var r,i=v(),o=d("FCP"),a=l("paint",function(e){"first-contentful-paint"===e.name&&(a&&a.disconnect(),e.startTime<i.timeStamp&&(o.value=e.startTime,o.entries.push(e),O.add(o),r()))});a&&(r=m(t,o,n),p(function(e){o=d("FCP"),r=m(t,o,n),requestAnimationFrame(function(){requestAnimationFrame(function(){o.value=performance.now()-e.timeStamp,O.add(o),r()})})}))},y={passive:!0,capture:!0},B=new Date,b=function(e,t){s||(s=t,u=e,r=new Date,S(removeEventListener),R())},R=function(){if(0<=u&&u<r-B){var t={entryType:"first-input",name:s.type,target:s.target,cancelable:s.cancelable,startTime:s.timeStamp,processingStart:s.timeStamp+u};c.forEach(function(e){e(t)}),c=[]}},M=function(e){if(e.cancelable){var t=(1e12<e.timeStamp?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?(n=t,r=e,i=function(){b(n,r),a()},o=function(){a()},a=function(){removeEventListener("pointerup",i,y),removeEventListener("pointercancel",o,y)},addEventListener("pointerup",i,y),addEventListener("pointercancel",o,y)):b(t,e)}var n,r,i,o,a},S=function(t){["mousedown","keydown","touchstart","pointerdown"].forEach(function(e){return t(e,M,y)})},w=function(e,t){var n=v(),r=d("FID"),i=function(e){e.startTime<n.timeStamp&&(r.value=e.processingStart-e.startTime,r.entries.push(e),O.add(r),a())},o=l("first-input",i),a=m(e,r,t);o&&f(function(){o.takeRecords().map(i),o.disconnect()},!0),o&&p(function(){r=d("FID"),a=m(e,r,t),c=[],u=-1,s=null,S(addEventListener),c.push(i),R()})},E=function(t,n){var r=v(),i=d("LCP"),e=function(e){var t=e.startTime;t<r.timeStamp&&(i.value=t,i.entries.push(e)),a()},o=l("largest-contentful-paint",e);if(o){var a=m(t,i,n),s=function(){O.has(i)||(o.takeRecords().map(e),o.disconnect(),O.add(i),a())};["keydown","click"].forEach(function(e){addEventListener(e,s,{once:!0,capture:!0})}),f(s,!0),p(function(e){i=d("LCP"),a=m(t,i,n),requestAnimationFrame(function(){requestAnimationFrame(function(){i.value=performance.now()-e.timeStamp,O.add(i),a()})})})}},T=function(t){var n=d("TTFB"),e=function(){try{var e=performance.getEntriesByType("navigation")[0]||function(){var e,t=performance.timing,n={entryType:"navigation",startTime:0};for(e in t)"navigationStart"!==e&&"toJSON"!==e&&(n[e]=Math.max(t[e]-t.navigationStart,0));return n}();n.value=n.delta=e.responseStart,n.entries=[e],t(n)}catch(t){}};"complete"===document.readyState?setTimeout(e,0):addEventListener("pageshow",e)}},function(e,t){!function(){if(!BOOMR.plugins.PaintTiming){var i={"first-paint":"first_paint","first-contentful-paint":"first_contentful_paint","largest-contentful-paint":"largest_contentful_paint"},o={initialized:!1,complete:!1,supported:null,timingCache:{},observer:null,externalMetrics:{},done:function(e,t){var n,r;if(this.complete)return this;if("load"!==t&&(!e||"spa_hard"!==e.initiator)){this.complete=!0;return this}if((e=BOOMR.getPerformance())&&"function"==typeof e.getEntriesByType){if((n=e.getEntriesByType("paint"))&&n.length){BOOMR.info("This user agent supports PaintTiming","pt");for(r=0;r<n.length;r++){o.timingCache[n[r].name]=n[r].startTime;i[n[r].name]&&BOOMR.addVar(i[n[r].name],Math.floor(n[r].startTime),!0)}this.complete=!0;BOOMR.sendBeacon()}}else this.complete=!0},onObserver:function(e){e=e.getEntries();if(0!==e.length){var e=e[e.length-1],t=e.renderTime||e.loadTime;o.timingCache[e.entryType]=t;BOOMR.addVar("largest_contentful_paint",Math.floor(t),!0);o.externalMetrics.lcp=function(){return Math.floor(t)}}}};BOOMR.plugins.PaintTiming={init:function(){if(!this.is_supported()){o.complete=!0;o.initialized=!0}if(!o.complete&&"hidden"===BOOMR.visibilityState()){BOOMR.addVar("paint_timing_hidden",1,!0);o.complete=!0}if(!o.initialized){BOOMR.subscribe("page_ready",o.done,"load",o);BOOMR.subscribe("xhr_load",o.done,"xhr",o);BOOMR.subscribe("before_unload",o.done,null,o);if("function"==typeof BOOMR.window.PerformanceObserver&&"function"==typeof window.LargestContentfulPaint){o.observer=new BOOMR.window.PerformanceObserver(o.onObserver);o.observer.observe({type:"largest-contentful-paint",buffered:!0})}o.initialized=!0}return this},is_complete:function(){return!0},is_enabled:function(){return o.initialized&&this.is_supported()},is_supported:function(){if(null!==o.supported)return o.supported;var e=BOOMR.getPerformance();o.supported=e&&"undefined"!=typeof window.PerformancePaintTiming&&"function"==typeof e.getEntriesByType;return o.supported},getTimingFor:function(e){var t,n;if(o.timingCache[e])return o.timingCache[e];if(this.is_supported()){var r=BOOMR.getPerformance();if(r&&"function"==typeof r.getEntriesByType&&(t=r.getEntriesByType("paint"))&&t.length)for(n=0;n<t.length;n++)if(t[n].name===e){o.timingCache[e]=t[n].startTime;return o.timingCache[e]}}},metrics:o.externalMetrics}}}()},function(e,t){!function(){if(!BOOMR.plugins.NavigationTiming){var a={complete:!1,fullySent:!1,sendBeacon:function(){this.complete=!0;BOOMR.sendBeacon()},xhr_done:function(e){var t;if(e&&"spa_hard"===e.initiator)a.done(e);else if(e&&"spa"===e.initiator)a.sendBeacon();else{BOOMR.window;var n,r={};if(e){e.data&&(e=e.data);if((t=BOOMR.getPerformance())&&e.restiming){r={redirect_start:e.restiming.redirectStart,redirect_end:e.restiming.redirectEnd,fetch_start:e.restiming.fetchStart,domain_lookup_start:e.restiming.domainLookupStart,domain_lookup_end:e.restiming.domainLookupEnd,connect_start:e.restiming.connectStart,connect_end:e.restiming.connectEnd,request_start:e.restiming.requestStart,response_start:e.restiming.responseStart,response_end:e.restiming.responseEnd};e.restiming.secureConnectionStart&&(r.secure_connection_start=e.restiming.secureConnectionStart);for(n in r)if(r.hasOwnProperty(n)&&r[n]){r[n]+=t.timing.navigationStart;r[n]=Math.floor(r[n])}}if(e.timing){e=e.timing;r.request_start||(r.request_start=e.requestStart);r.response_start||(r.response_start=e.responseStart);r.response_end||(r.response_end=e.responseEnd);r.dom_interactive=e.domInteractive;r.dom_complete=e.domComplete;r.load_event_start=e.loadEventEnd;r.load_event_end=e.loadEventEnd}for(n in r)r.hasOwnProperty(n)&&!r[n]&&delete r[n];BOOMR.addVar(r);try{a.addedVars.push.apply(a.addedVars,Object.keys(r))}catch(i){}a.sendBeacon()}}},done:function(){BOOMR.window;var e,t,n={},r=0;if(this.complete)return this;a.addedVars=[];if(i=BOOMR.getPerformance()){if("function"==typeof i.getEntriesByType)if((e=i.getEntriesByType("navigation"))&&e.length){BOOMR.info("This user agent supports NavigationTiming2","nt");e=e[0];r=i.timing?i.timing.navigationStart:0}else e=undefined;if(!e&&i.timing){BOOMR.info("This user agent supports NavigationTiming","nt");e=i.timing}if(e){!(n={navigation_start:i.timing?i.timing.navigationStart:0,redirect_start:s(r,e.redirectStart),redirect_end:s(r,e.redirectEnd),fetch_start:s(r,e.fetchStart),domain_lookup_start:s(r,e.domainLookupStart),domain_lookup_end:s(r,e.domainLookupEnd),connect_start:s(r,e.connectStart),connect_end:s(r,e.connectEnd),request_start:s(r,e.requestStart),response_start:s(r,e.responseStart),response_end:s(r,e.responseEnd),dom_loading:s(r,e.domLoading),dom_interactive:s(r,e.domInteractive),dom_content_loaded_event_start:s(r,e.domContentLoadedEventStart),dom_content_loaded_event_end:s(r,e.domContentLoadedEventEnd),dom_complete:s(r,e.domComplete),load_event_start:s(r,e.loadEventStart),load_event_end:s(r,e.loadEventEnd),unload_event_start:s(r,e.unloadEventStart),unload_event_end:s(r,e.unloadEventEnd)}).dom_loading&&i&&i.timing&&i.timing.domLoading&&(n.dom_loading=i.timing.domLoading);e.secureConnectionStart&&(n.secure_connection_start=s(r,e.secureConnectionStart));e.workerStart&&(n.worker_start=s(r,e.workerStart));if(e.decodedBodySize||e.transferSize){n.encoded_body_size=e.encodedBodySize;n.decoded_body_size=e.decodedBodySize;n.transfer_size=e.transferSize}e.nextHopProtocol&&(n.next_hop_protocol=e.nextHopProtocol)}if(i.navigation){r=0===(r=i.getEntriesByType("navigation")).length?i.navigation:r[0];n.redirect_count=r.redirectCount;var i={0:"navigate",1:"reload",2:"back_forward",225:"reserve"};n.navigation_type=i[r.type]||r.type}for(t in n)n.hasOwnProperty(t)&&n[t]===undefined&&delete n[t];BOOMR.addVar(n);if(e&&(e.requestStart&&e.navigationStart&&e.requestStart<e.navigationStart||e.responseStart&&e.navigationStart&&e.responseStart<e.navigationStart||e.responseStart&&e.fetchStart&&e.responseStart<e.fetchStart||e.navigationStart&&e.fetchStart<e.navigationStart||e.responseEnd&&e.responseEnd>BOOMR.now()+864e5)){BOOMR.addVar("navigation_bad",1);a.addedVars.push("navigation_bad")}try{a.addedVars.push.apply(a.addedVars,Object.keys(n))}catch(o){}0<n.load_event_end&&(this.fullySent=!0)}a.sendBeacon()},clear:function(e){if(a.addedVars&&0<a.addedVars.length){BOOMR.removeVar(a.addedVars);a.addedVars=[]}this.complete=!(e&&e.early)&&this.fullySent},prerenderToVisible:function(){this.complete=!1;this.done()}};BOOMR.plugins.NavigationTiming={init:function(){if(!a.initialized){BOOMR.subscribe("page_ready",a.done,null,a);BOOMR.subscribe("prerender_to_visible",a.prerenderToVisible,null,a);BOOMR.subscribe("xhr_load",a.xhr_done,null,a);BOOMR.subscribe("before_unload",a.done,null,a);BOOMR.subscribe("beacon",a.clear,null,a);a.initialized=!0}return this},is_complete:function(){return!0}}}function s(e,t){return"number"!=typeof t||0===t?undefined:Math.floor((e||0)+t)}}()},function(e,t){!function(){var t,n={type:"connection_type",effectiveType:"effective_type",saveData:"save_data"};if("function"==typeof BOOMR.addVar&&(t="object"==typeof navigator?navigator.connection||navigator.mozConnection||navigator.webkitConnection||navigator.msConnection:t)){t.addEventListener&&t.addEventListener("change",function(){e();BOOMR.fireEvent("netinfo",t)});e()}function e(){for(var e in n)if("undefined"!=typeof t[e]){BOOMR.removeVar(n[e]);t[e]&&BOOMR.addVar(n[e],t[e])}}}()},function(e,t){!function(){if(!BOOMR.plugins.ResourceTiming){var g={other:0,img:1,link:2,script:3,css:4,xmlhttprequest:5,html:6,image:7,beacon:8,fetch:9,iframe:"a",subdocument:"a",body:"b",input:"c",frame:"a",object:"d",video:"e",audio:"f",source:"g",track:"h",embed:"i",eventsource:"j",navigation:6},E={prefetch:1,preload:2,prerender:3,stylesheet:4},T=["startTime","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","secureConnectionStart","connectEnd","requestStart","responseStart","responseEnd","workerStart"],h="\n",v="*",_="0",y="1",B="2",x=1,C=2,P=4,b="4",R="5",M="6",k={complete:!1,sentNavBeacon:!1,initialized:!1,supported:null,xhr_load:function(){if(!this.complete){this.complete=!0;BOOMR.sendBeacon()}},xssBreakWords:[/(h)(ref)/gi,/(s)(rc)/gi,/(a)(ction)/gi],urlLimit:500,clearOnBeacon:!1,trimUrls:[],serverTiming:!0,monitorClearResourceTimings:!1,splitAtPath:!1,getSrcsetDimensions:!1,trackedResourceTypes:"*",done:function(){if(!this.sentNavBeacon){e();this.complete=!0;this.sentNavBeacon=!0;BOOMR.sendBeacon()}},onBeacon:function(e){var t=BOOMR.getPerformance();if(k.clearOnBeacon&&t){var n=t.clearResourceTimings||t.webkitClearResourceTimings;n&&"function"==typeof n&&n.call(t)}},prerenderToVisible:function(){this.sentNavBeacon=!1;this.done()}};BOOMR.plugins.ResourceTiming={init:function(e){BOOMR.utils.pluginConfig(k,e,"ResourceTiming",["xssBreakWords","clearOnBeacon","urlLimit","trimUrls","trackedResourceTypes","serverTiming","monitorClearResourceTimings","splitAtPath","getSrcsetDimensions"]);if(k.initialized)return this;if(this.is_supported()){BOOMR.subscribe("page_ready",k.done,null,k);BOOMR.subscribe("prerender_to_visible",k.prerenderToVisible,null,k);BOOMR.subscribe("xhr_load",k.xhr_load,null,k);BOOMR.subscribe("beacon",k.onBeacon,null,k);BOOMR.subscribe("before_unload",k.done,null,k);if(k.monitorClearResourceTimings){var t=this;BOOMR.window.performance.clearResourceTimings=(n=BOOMR.window.performance.clearResourceTimings,function(){t.addResources(BOOMR.window.performance.getEntriesByType("resource"));n.apply(BOOMR.window.performance,arguments)})}}else k.complete=!0;var n;k.initialized=!0;return this},is_complete:function(){return!0},is_enabled:function(){return k.initialized&&this.is_supported()},is_supported:function(){if(null!==k.supported)return k.supported;var e=BOOMR.getPerformance();k.supported=e&&"function"==typeof e.getEntriesByType&&"undefined"!=typeof window.PerformanceResourceTiming;return k.supported},addResources:function(e,t){if(this.is_supported()&&BOOMR.utils.isArray(e)){k.collectedEntries=k.collectedEntries||[];if("number"==typeof t){var r=t-(BOOMR.window.performance.timeOrigin||BOOMR.window.performance.timing.navigationStart);e=BOOMR.utils.arrayFilter(e,function(e){for(var t=0;t<T.length;t++){var n=T[t];e.hasOwnProperty(n)&&(e[n]+=r)}return!0})}Array.prototype.push.apply(k.collectedEntries,e)}},getCompressedResourceTiming:r,getFilteredResourceTiming:U,calculateResourceTimingUnion:function c(e){if(!e||!e.length)return 0;e.sort(function(e,t){return e.fetchStart!==t.fetchStart?e.fetchStart-t.fetchStart:(e.responseStart||e.responseEnd)-(t.responseStart||t.responseEnd)});for(var t=u(e),n=[],r=0,i=0;i<t.length;i++){var o=t[i];o.fetchStart<r&&(o.fetchStart=r);if(o.fetchStart<o.responseEnd){n.push(o);r=o.responseEnd}}var a=u(n),s=0;for(i=0;i<a.length;i++)s+=a[i].responseEnd-a[i].fetchStart;return s},addResourceTimingToBeacon:e,addToBeacon:i}}function S(e,t){var n,r,i,o,a,s,u,c,d={};for(n in e){r=n;for(i=0;i<k.xssBreakWords.length;i++)r=r.replace(k.xssBreakWords[i],"$1"+h+"$2");if(e.hasOwnProperty(n)){o=e[n];a=t?[(a=r.split("/"))[0]+"//",a[2]+(3<a.length?"/":"")].concat(a.slice(3).reduce(function l(o){return function(e,t,n){var r,i;if(-1!==t.indexOf(h)){r=t.split(h);for(i=0;i<r.length-1;i++){e.push(r[i]);e.push(h)}t=r.slice(-1)}"number"==typeof o&&n<o&&(t+="/");return e.concat(t)}}(a.length-4),[])):r.split("");u=d;for(i=0;i<a.length;i++)void 0===(c=u[s=a[i]])?u=u[s]=i===a.length-1?o:{}:"string"==typeof c?u=u[s]={"|":c}:i===a.length-1?u[s]["|"]=o:u=u[s]}}return d}function w(e,t){"number"!=typeof e&&(e=0);"number"!=typeof t&&(t=0);e=Math.round(e||0),t=Math.round(t||0);return 0===e?0:e-t}function L(e){try{e.location&&e.location.href;e.document;if("performance"in e&&e.performance)return 1}catch(t){}}function A(e){var t=0;return t=L(e)&&e.performance.timing&&e.performance.timing.navigationStart?e.performance.timing.navigationStart:t}function V(e,t,n,r,i){var o,a,s,u,c,d,l,f,p,O=[],m={},g={};void 0===t&&(t=!0);void 0===n&&(n=0);if(10<(r=void 0===r?0:r))return O;try{if(!L(e))return O;a=A(e);f=function M(e,t){var u,c,d={},l=e.document,f=l.createElement("A");u=(t=t||[0,0,0,0])[3]+(e.pageXOffset!==undefined)?e.pageXOffset:(l.documentElement||l.body.parentNode||l.body).scrollLeft;c=t[2]+(e.pageYOffset!==undefined)?e.pageYOffset:(l.documentElement||l.body.parentNode||l.body).scrollTop;["img","iframe","image"].forEach(function(e){for(var t,n,r,i,o,a=l.getElementsByTagName(e),s=0;s<a.length;s++)if(o=a[s]){n=o.currentSrc||o.src||"function"==typeof o.getAttribute&&o.getAttribute("src")||o.getAttribute("xlink:href");f.href=n;n=f.href;if(n&&!d[n]&&((t=o.getBoundingClientRect()).height||o.offsetHeight)&&(t.width||o.offsetWidth)){d[n]=[t.height||o.offsetHeight,t.width||o.offsetWidth,Math.round(t.top+c),Math.round(t.left+u)];if(o.naturalHeight||o.naturalWidth){k.getSrcsetDimensions&&o.currentSrc&&(o.srcset||o.parentNode&&o.parentNode.nodeName&&"PICTURE"===o.parentNode.nodeName.toUpperCase())?(r=o.isConnected?o.ownerDocument.createElement("IMG"):new BOOMR.window.Image).src=n:r=o;i=r.naturalHeight||o.naturalHeight;o=r.naturalWidth||o.naturalWidth;!i&&!o||d[n][0]===i&&d[n][1]===o||d[n].push(i,o)}}}});return d}(e,i);I(p=e.document.createElement("a"),m,"script");I(p,g,"link");if((c=e.document.getElementsByTagName("iframe"))&&c.length)for(o=0;o<c.length;o++){s=A(c[o].contentWindow);u=0;a<s&&(u=n+(s-a));p.href=c[o].src;O=O.concat(V(c[o].contentWindow,!1,u,r+1,f[p.href]))}if("function"!=typeof e.performance.getEntriesByType)return O;function h(e){return k.serverTiming&&e.serverTiming||[]}if(t)if((d=e.performance.getEntriesByType("navigation"))&&1===d.length){d=d[0];O.push({name:e.location.href,startTime:0,initiatorType:"html",redirectStart:d.redirectStart,redirectEnd:d.redirectEnd,fetchStart:d.fetchStart,domainLookupStart:d.domainLookupStart,domainLookupEnd:d.domainLookupEnd,connectStart:d.connectStart,secureConnectionStart:d.secureConnectionStart,connectEnd:d.connectEnd,requestStart:d.requestStart,responseStart:d.responseStart,responseEnd:d.responseEnd,workerStart:d.workerStart,encodedBodySize:d.encodedBodySize,decodedBodySize:d.decodedBodySize,transferSize:d.transferSize,serverTiming:h(d)})}else e.performance.timing&&0!==(l=e.performance.timing).navigationStart&&l.responseEnd<=l.navigationStart+36e5&&O.push({name:e.location.href,startTime:0,initiatorType:"html",redirectStart:l.redirectStart?l.redirectStart-l.navigationStart:0,redirectEnd:l.redirectEnd?l.redirectEnd-l.navigationStart:0,fetchStart:l.fetchStart?l.fetchStart-l.navigationStart:0,domainLookupStart:l.domainLookupStart?l.domainLookupStart-l.navigationStart:0,domainLookupEnd:l.domainLookupEnd?l.domainLookupEnd-l.navigationStart:0,connectStart:l.connectStart?l.connectStart-l.navigationStart:0,secureConnectionStart:l.secureConnectionStart?l.secureConnectionStart-l.navigationStart:0,connectEnd:l.connectEnd?l.connectEnd-l.navigationStart:0,requestStart:l.requestStart?l.requestStart-l.navigationStart:0,responseStart:l.responseStart?l.responseStart-l.navigationStart:0,responseEnd:l.responseEnd?l.responseEnd-l.navigationStart:0});var v=e.performance.getEntriesByType("resource"),_=[];if(e===BOOMR.window&&k.collectedEntries){Array.prototype.push.apply(v,k.collectedEntries);k.collectedEntries=[]}for(o=0;v&&o<v.length;o++){for(var y={name:(l=v[o]).name,initiatorType:l.initiatorType,encodedBodySize:l.encodedBodySize,decodedBodySize:l.decodedBodySize,transferSize:l.transferSize,serverTiming:h(l),visibleDimensions:f[l.name],latestTime:function S(e){if(e.responseEnd)return e.responseEnd;if(e.responseStart&&e.startTime)return e.responseStart+.2*(e.responseStart-e.startTime);return Infinity}(l)},B=0;B<T.length;B++){var b=T[B];y[b]="startTime"===b||l[b]?l[b]+n:0}l.hasOwnProperty("_data")&&(y._data=l._data);if(("script"===l.initiatorType||"link"===l.initiatorType)&&m[l.name]){var R=m[l.name];y.scriptAttrs=(R["async"]?x:0)|(R.defer?C:0);for(;1===R.nodeType&&"BODY"!==R.nodeName;)R=R.parentNode;y.scriptAttrs|="BODY"===R.nodeName?P:0}"link"===l.initiatorType&&g[l.name]&&BOOMR.utils.arrayFind(g[l.name].rel.split(/[\u0009\u000A\u000C\u000D\u0020]+/),function(e){e=e.toLowerCase();if(E[e]){y.linkAttrs=E[e];return!0}});_.push(y)}O=O.concat(_)}catch(w){return O}return O}function I(t,n,e){Array.prototype.forEach.call(t.ownerDocument.getElementsByTagName(e),function(e){t.href=e.currentSrc||e.src||"function"==typeof e.getAttribute&&e.getAttribute("xlink:href")||e.href;t.href.match(/^https?:\/\//)&&(n[t.href]=e)})}function N(e){return"number"==typeof e&&0!==e?e.toString(36):"string"==typeof e?e:""}function U(e,t,n){var r,i=V(BOOMR.window,!0,0,0),o=A(BOOMR.window);if(!i||!i.length)return{entries:[]};i.sort(function(e,t){return e.startTime-t.startTime});for(var a=[],s=0;s<i.length;s++){r=i[s];if((0===r.name.indexOf("http:")||0===r.name.indexOf("https:"))&&!(-1<r.name.indexOf(BOOMR.url)||-1<r.name.indexOf(BOOMR.config_url)||"function"==typeof BOOMR.getBeaconURL&&BOOMR.getBeaconURL()&&-1<r.name.indexOf(BOOMR.getBeaconURL())||e&&o+r.startTime<e)){if(t&&o+r.startTime>t)break;(void 0===n||"*"===n||!n.length||r.initiatorType&&BOOMR.utils.inArray(r.initiatorType,n))&&a.push(r)}}return{entries:a}}function r(e,t){var n,r={},i={},o=U(e,t,k.trackedResourceTypes).entries;if(!o||!o.length)return{resource_timing:{}};for(n=0;n<o.length;n++){var a=o[n],s=(u=void 0===(u=g[a.initiatorType])?0:u)+[w(a.startTime,0),w(a.responseEnd,a.startTime),w(a.responseStart,a.startTime),w(a.requestStart,a.startTime),w(a.connectEnd,a.startTime),w(a.secureConnectionStart,a.startTime),w(a.connectStart,a.startTime),w(a.domainLookupEnd,a.startTime),w(a.domainLookupStart,a.startTime),w(a.redirectEnd,a.startTime),w(a.redirectStart,a.startTime)].map(N).join(",").replace(/,+$/,""),u=function f(e){var t,n;if(e.encodedBodySize||e.decodedBodySize||e.transferSize){t=e.transferSize;return[n=e.encodedBodySize,t?t-n:"_",(e=e.decodedBodySize)?e-n:0].map(N).join(",").replace(/,+$/,"")}return""}(a);""!==u&&(s+=v+y+u);a.hasOwnProperty("scriptAttrs")&&(s+=v+B+a.scriptAttrs);a.hasOwnProperty("linkAttrs")&&(s+=v+b+a.linkAttrs);if(a.workerStart&&"number"==typeof a.workerStart&&0!==a.workerStart){var c=w(function p(e){"number"!=typeof e&&(e=0);return Math.ceil(e||0)}(a.workerStart),a.startTime);s+=v+M+N(c)}c=function O(e,t){var n,r,i;if(e&&t)for(n=0;n<t.length;n++)if("string"==typeof(i=t[n])){if(-1!==(r=e.indexOf(i))){e=e.substr(0,r+i.length)+"...";break}}else i instanceof RegExp&&i.test(e)&&(e=e.replace(i,"$1")+"...");return BOOMR.utils.cleanupURL(e,k.urlLimit)}(a.name,k.trimUrls);if(a.hasOwnProperty("_data")){var d,l="";for(d in a._data)a._data.hasOwnProperty(d)&&(l+=v+R+d+":"+a._data[d]);"undefined"==typeof r[c]?r[c]=s+l:r[c]+=l}else r[c]!==undefined?r[c]+="|"+s:a.visibleDimensions?r[c]=v+_+a.visibleDimensions.map(Math.round).map(N).join(",").replace(/,+$/,"")+"|"+s:r[c]=s;if(a.visibleDimensions){i[a.latestTime]||(i[a.latestTime]=[]);i[a.latestTime].push(a.visibleDimensions)}}return{resource_timing:function m(e,t){var n,r,i=0,o=[];for(n in e)e.hasOwnProperty(n)&&o.push(n);for(var a=0;a<o.length;a++){n=o[a];if("object"==typeof e[n]&&(r=m(e[n],!1))){delete e[n];if(n===h){n=r.name;i++}else n+=r.name;e[n]=r.value}i++}if(1!==i)return!!t&&e;if(t){(t={})[n]=e[n];return t}return{name:n,value:e[n]}}(S(r,k.splitAtPath),!0)}}function u(e){var t=[];if(!e||!e.length)return t;for(var n=0;n<e.length;n++){var r=e[n];n!==e.length-1&&r.fetchStart===e[n+1].fetchStart||t.push({fetchStart:r.fetchStart,responseEnd:r.responseStart||r.responseEnd})}return t}function e(e,t){var n;if("undefined"!=typeof JSON&&(n=r(e,t))){BOOMR.info("Client supports Resource Timing API","resource_timing");i(n)}}function i(e){BOOMR.addVar("resource_timing",JSON.stringify(e.resource_timing),!0)}}()},function(e,t){"function"==typeof BOOMR.addVar&&function o(){var e=BOOMR.window&&BOOMR.window.ShopifyAnalytics&&BOOMR.window.ShopifyAnalytics.lib&&BOOMR.window.ShopifyAnalytics.lib.trekkie&&BOOMR.window.ShopifyAnalytics.lib.trekkie.defaultAttributes&&BOOMR.window.ShopifyAnalytics.lib.trekkie.defaultAttributes.visitToken;e&&BOOMR.addVar("session_token",e);if(BOOMR.themeId&&BOOMR.shopId){BOOMR.addVar("theme_id",BOOMR.themeId.toString());BOOMR.addVar("shop_id",BOOMR.shopId.toString());BOOMR.application&&BOOMR.addVar("application",BOOMR.application.toString());if(BOOMR.themeName&&BOOMR.themeVersion){BOOMR.addVar("theme_name",BOOMR.themeName.toString());BOOMR.addVar("theme_version",BOOMR.themeVersion.toString())}}else{var t,n={shopId:"shop_id",themeId:"theme_id",application:"application",themeName:"theme_name",themeVersion:"theme_version"},r=BOOMR.url;for(t in n)BOOMR.addVar(n[t],function i(e,t){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))}(t,r))}}()},function(e,t,n){var s=(new Date).getTime();!function(){if(!BOOMR.plugins.MonorailProducer){var a={initialized:!1,onBeacon:function(e){var t=BOOMR.window||window,n=a.producer_url||"https://monorail-edge.shopifysvc.com/v1/produce",r={schema_id:"boomerang_real_user_measurement_audit/7.0",payload:e,metadata:{event_created_at_ms:s,event_sent_at_ms:(new Date).getTime()}};0;if(t&&t.navigator&&"function"==typeof t.navigator.sendBeacon&&BOOMR.utils.isNative(t.navigator.sendBeacon)&&"function"==typeof t.Blob&&!function i(){return-1!==window.navigator.userAgent.lastIndexOf("iPhone; CPU iPhone OS 12_")||-1!==window.navigator.userAgent.lastIndexOf("iPad; CPU OS 12_")}()){e=new t.Blob([JSON.stringify(r)],{type:"text/plain"});if(t.navigator.sendBeacon(n,e))return!0}xhr=new(t.orig_XMLHttpRequest||BOOMR.orig_XMLHttpRequest||t.XMLHttpRequest);try{a.sendXhrPostBeacon(xhr,r)}catch(o){xhr=new BOOMR.boomerang_frame.XMLHttpRequest;a.sendXhrPostBeacon(xhr,r)}},sendXhrPostBeacon:function(e,t){e.open("POST",producer_url);e.setRequestHeader("Content-type","text/plain");e.send(JSON.stringify(t))}};BOOMR.plugins.MonorailProducer={init:function(){if(!a.initialized){BOOMR.subscribe("before_beacon",a.onBeacon,null,a);BOOMR.subscribe("config",function(e){e.producer_url&&(a.producer_url=e.producer_url)});a.initialized=!0}return this},is_complete:function(){return!0}}}}()},function(e,t){BOOMR.t_end=(new Date).getTime()}]);
